<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 5 Importando datos | Introducción a la Ciencia de Datos</title>
  <meta name="description" content="Este libro presenta conceptos y habilidades que pueden ayudar a abordar desafíos de mundo real de análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y aprendizaje automático y te ayuda a desarrollar habilidades como la programación R, disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 5 Importando datos | Introducción a la Ciencia de Datos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro presenta conceptos y habilidades que pueden ayudar a abordar desafíos de mundo real de análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y aprendizaje automático y te ayuda a desarrollar habilidades como la programación R, disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 5 Importando datos | Introducción a la Ciencia de Datos" />
  
  <meta name="twitter:description" content="Este libro presenta conceptos y habilidades que pueden ayudar a abordar desafíos de mundo real de análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y aprendizaje automático y te ayuda a desarrollar habilidades como la programación R, disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-03-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tidyverse.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#estudios-de-caso"><i class="fa fa-check"></i>Estudios de caso</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#quien-encontrara-util-este-libro"><i class="fa fa-check"></i>¿Quién encontrará útil este libro?</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-cubre-este-libro"><i class="fa fa-check"></i>¿Que cubre este libro?</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-no-cubre-este-libro"><i class="fa fa-check"></i>¿Qué no cubre este libro?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Comenzando con R y RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#por-que-r"><i class="fa fa-check"></i><b>1.1</b> ¿Por qué R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#la-consola-r"><i class="fa fa-check"></i><b>1.2</b> La consola R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#guiones"><i class="fa fa-check"></i><b>1.3</b> Guiones</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.4</b> RStudio</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#los-paneles"><i class="fa fa-check"></i><b>1.4.1</b> Los paneles</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#atajos-de-teclado"><i class="fa fa-check"></i><b>1.4.2</b> Atajos de teclado</a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#ejecutando-comandos-mientras-edita-scripts"><i class="fa fa-check"></i><b>1.4.3</b> Ejecutando comandos mientras edita scripts</a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#cambio-de-opciones-globales"><i class="fa fa-check"></i><b>1.4.4</b> Cambio de opciones globales</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#instalacion-de-paquetes-r"><i class="fa fa-check"></i><b>1.5</b> Instalación de paquetes R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R básicos</a><ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#estudio-de-caso-asesinatos-de-armas"><i class="fa fa-check"></i><b>2.1</b> Estudio de caso: asesinatos de armas</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#los-muy-basicos"><i class="fa fa-check"></i><b>2.2</b> Los muy básicos</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#objetos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#el-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.2</b> El espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics.html"><a href="r-basics.html#funciones"><i class="fa fa-check"></i><b>2.2.3</b> Funciones</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics.html"><a href="r-basics.html#otros-objetos-preconstruidos"><i class="fa fa-check"></i><b>2.2.4</b> Otros objetos preconstruidos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics.html"><a href="r-basics.html#nombres-de-variables"><i class="fa fa-check"></i><b>2.2.5</b> Nombres de variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics.html"><a href="r-basics.html#guardar-su-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.6</b> Guardar su espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-basics.html"><a href="r-basics.html#scripts-motivadores"><i class="fa fa-check"></i><b>2.2.7</b> Scripts motivadores</a></li>
<li class="chapter" data-level="2.2.8" data-path="r-basics.html"><a href="r-basics.html#comentando-tu-codigo"><i class="fa fa-check"></i><b>2.2.8</b> Comentando tu código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#ejercicios"><i class="fa fa-check"></i><b>2.3</b> Ejercicios</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#tipos-de-datos"><i class="fa fa-check"></i><b>2.4</b> Tipos de datos</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.4.1</b> Marcos de datos</a></li>
<li class="chapter" data-level="2.4.2" data-path="r-basics.html"><a href="r-basics.html#examinando-un-objeto"><i class="fa fa-check"></i><b>2.4.2</b> Examinando un objeto</a></li>
<li class="chapter" data-level="2.4.3" data-path="r-basics.html"><a href="r-basics.html#el-descriptor-de-acceso"><i class="fa fa-check"></i><b>2.4.3</b> El descriptor de acceso: <code>$</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-basics.html"><a href="r-basics.html#vectores-numericos-caracteres-y-logicos"><i class="fa fa-check"></i><b>2.4.4</b> Vectores: numéricos, caracteres y lógicos</a></li>
<li class="chapter" data-level="2.4.5" data-path="r-basics.html"><a href="r-basics.html#factors"><i class="fa fa-check"></i><b>2.4.5</b> Factores</a></li>
<li class="chapter" data-level="2.4.6" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.4.6</b> Listas</a></li>
<li class="chapter" data-level="2.4.7" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.4.7</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#ejercicios-1"><i class="fa fa-check"></i><b>2.5</b> Ejercicios</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#vectores"><i class="fa fa-check"></i><b>2.6</b> Vectores</a><ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#crear-vectores"><i class="fa fa-check"></i><b>2.6.1</b> Crear vectores</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basics.html"><a href="r-basics.html#nombres"><i class="fa fa-check"></i><b>2.6.2</b> Nombres</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basics.html"><a href="r-basics.html#secuencias"><i class="fa fa-check"></i><b>2.6.3</b> Secuencias</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basics.html"><a href="r-basics.html#subconjunto"><i class="fa fa-check"></i><b>2.6.4</b> Subconjunto</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#coercion"><i class="fa fa-check"></i><b>2.7</b> Coerción</a><ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics.html"><a href="r-basics.html#no-disponible-na"><i class="fa fa-check"></i><b>2.7.1</b> No disponible (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ejercicios-2"><i class="fa fa-check"></i><b>2.8</b> Ejercicios</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#clasificacion"><i class="fa fa-check"></i><b>2.9</b> Clasificación</a><ul>
<li class="chapter" data-level="2.9.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.9.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.9.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.9.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.9.3" data-path="r-basics.html"><a href="r-basics.html#max-y-which.max"><i class="fa fa-check"></i><b>2.9.3</b> <code>max</code> y <code>which.max</code></a></li>
<li class="chapter" data-level="2.9.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.9.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.9.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-con-el-reciclaje"><i class="fa fa-check"></i><b>2.9.5</b> Cuidado con el reciclaje</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#ejercicios-3"><i class="fa fa-check"></i><b>2.10</b> Ejercicios</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#aritmetica-de-vectores"><i class="fa fa-check"></i><b>2.11</b> Aritmética de vectores</a><ul>
<li class="chapter" data-level="2.11.1" data-path="r-basics.html"><a href="r-basics.html#reescalando-un-vector"><i class="fa fa-check"></i><b>2.11.1</b> Reescalando un vector</a></li>
<li class="chapter" data-level="2.11.2" data-path="r-basics.html"><a href="r-basics.html#dos-vectores"><i class="fa fa-check"></i><b>2.11.2</b> Dos vectores</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#ejercicios-4"><i class="fa fa-check"></i><b>2.12</b> Ejercicios</a></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#indexacion"><i class="fa fa-check"></i><b>2.13</b> Indexación</a><ul>
<li class="chapter" data-level="2.13.1" data-path="r-basics.html"><a href="r-basics.html#subconjunto-con-logicas"><i class="fa fa-check"></i><b>2.13.1</b> Subconjunto con lógicas</a></li>
<li class="chapter" data-level="2.13.2" data-path="r-basics.html"><a href="r-basics.html#operadores-logicos"><i class="fa fa-check"></i><b>2.13.2</b> Operadores logicos</a></li>
<li class="chapter" data-level="2.13.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.13.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.13.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.13.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.13.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.13.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#ejercicios-5"><i class="fa fa-check"></i><b>2.14</b> Ejercicios</a></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#parcelas-basicas"><i class="fa fa-check"></i><b>2.15</b> Parcelas básicas</a><ul>
<li class="chapter" data-level="2.15.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.15.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.15.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.15.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.15.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.15.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.15.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.15.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="r-basics.html"><a href="r-basics.html#ejercicios-6"><i class="fa fa-check"></i><b>2.16</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html"><i class="fa fa-check"></i><b>3</b> Conceptos básicos de programación</a><ul>
<li class="chapter" data-level="3.1" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expresiones condicionales</a></li>
<li class="chapter" data-level="3.2" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#definiendo-funciones"><i class="fa fa-check"></i><b>3.2</b> Definiendo funciones</a></li>
<li class="chapter" data-level="3.3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#espacios-de-nombres"><i class="fa fa-check"></i><b>3.3</b> Espacios de nombres</a></li>
<li class="chapter" data-level="3.4" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#for-loops"><i class="fa fa-check"></i><b>3.4</b> For-loops</a></li>
<li class="chapter" data-level="3.5" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorización y funcionales</a></li>
<li class="chapter" data-level="3.6" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#ejercicios-7"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> El tidyverse</a><ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Datos ordenados</a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-8"><i class="fa fa-check"></i><b>4.2</b> Ejercicios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#manipulacion-de-marcos-de-datos"><i class="fa fa-check"></i><b>4.3</b> Manipulación de marcos de datos</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#agregar-una-columna-con-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Agregar una columna con <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#subconjunto-con-filter"><i class="fa fa-check"></i><b>4.3.2</b> Subconjunto con <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#seleccionar-columnas-con-select"><i class="fa fa-check"></i><b>4.3.3</b> Seleccionar columnas con <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-9"><i class="fa fa-check"></i><b>4.4</b> Ejercicios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#el-tubo"><i class="fa fa-check"></i><b>4.5</b> El tubo: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-10"><i class="fa fa-check"></i><b>4.6</b> Ejercicios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#resumiendo-datos"><i class="fa fa-check"></i><b>4.7</b> Resumiendo datos</a><ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Agrupe y luego resuma con <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#ordenar-marcos-de-datos"><i class="fa fa-check"></i><b>4.8</b> Ordenar marcos de datos</a><ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#clasificacion-anidada"><i class="fa fa-check"></i><b>4.8.1</b> Clasificación anidada</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#la-parte-superior-n"><i class="fa fa-check"></i><b>4.8.2</b> La parte superior <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-11"><i class="fa fa-check"></i><b>4.9</b> Ejercicios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> Tibbles</a><ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-se-muestran-mejor"><i class="fa fa-check"></i><b>4.10.1</b> Tibbles se muestran mejor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#los-subconjuntos-de-tibbles-son-tibbles"><i class="fa fa-check"></i><b>4.10.2</b> Los subconjuntos de tibbles son tibbles</a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-puede-tener-entradas-complejas"><i class="fa fa-check"></i><b>4.10.3</b> Tibbles puede tener entradas complejas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-se-pueden-agrupar"><i class="fa fa-check"></i><b>4.10.4</b> Tibbles se pueden agrupar</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#crear-un-tibble-usando-tibble-en-lugar-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Crear un tibble usando <code>tibble</code> en lugar de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#el-operador-punto"><i class="fa fa-check"></i><b>4.11</b> El operador punto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#el-paquete-purrr"><i class="fa fa-check"></i><b>4.13</b> El paquete <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-condicionales"><i class="fa fa-check"></i><b>4.14</b> Tidyverse condicionales</a><ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-12"><i class="fa fa-check"></i><b>4.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando datos</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#rutas-y-el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1</b> Rutas y el directorio de trabajo</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#el-sistema-de-archivos"><i class="fa fa-check"></i><b>5.1.1</b> El sistema de archivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#caminos-relativos-y-completos"><i class="fa fa-check"></i><b>5.1.2</b> Caminos relativos y completos</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1.3</b> El directorio de trabajo</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#generando-nombres-de-ruta"><i class="fa fa-check"></i><b>5.1.4</b> Generando nombres de ruta</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#copiando-archivos-usando-rutas"><i class="fa fa-check"></i><b>5.1.5</b> Copiando archivos usando rutas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#los-paquetes-readr-y-readxl"><i class="fa fa-check"></i><b>5.2</b> Los paquetes readr y readxl</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#lector"><i class="fa fa-check"></i><b>5.2.1</b> lector</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#ejercicios-13"><i class="fa fa-check"></i><b>5.3</b> Ejercicios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#descargando-archivos"><i class="fa fa-check"></i><b>5.4</b> Descargando archivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#funciones-de-importacion-de-base-r"><i class="fa fa-check"></i><b>5.5</b> Funciones de importación de base R</a><ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#texto-versus-archivos-binarios"><i class="fa fa-check"></i><b>5.6</b> Texto versus archivos binarios</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#organizando-datos-con-hojas-de-calculo"><i class="fa fa-check"></i><b>5.8</b> Organizando datos con hojas de cálculo</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#ejercicios-14"><i class="fa fa-check"></i><b>5.9</b> Ejercicios</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a la Ciencia de Datos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importing-data" class="section level1">
<h1><span class="header-section-number">Capítulo 5</span> Importando datos</h1>
<p>Hemos estado usando conjuntos de datos ya almacenados como objetos R. Un científico de datos rara vez tendrá tanta suerte y tendrá que importar datos a R desde un archivo, una base de datos u otras fuentes. Actualmente, una de las formas más comunes de almacenar y compartir datos para el análisis es a través de hojas de cálculo electrónicas. Una hoja de cálculo almacena datos en filas y columnas. Básicamente es una versión de archivo de un marco de datos. Al guardar dicha tabla en un archivo de computadora, uno necesita una manera de definir cuándo termina una nueva fila o columna y comienza la otra. Esto a su vez define las celdas en las que se almacenan los valores individuales.</p>
<p>Al crear hojas de cálculo con archivos de texto, como los creados con un editor de texto simple, se define una nueva fila con retorno y las columnas se separan con un carácter especial predefinido. Los caracteres más comunes son coma ( <code>,</code>), punto y coma ( <code>;</code>), espacio () y pestaña (un número predeterminado de espacios o <code>\t</code>) Aquí hay un ejemplo de cómo se ve un archivo separado por comas si lo abrimos con un editor de texto básico:</p>
<p><img src="R/img/csv-file.png" width="70%" style="display: block; margin: auto;" /></p>
<p>La primera fila contiene nombres de columna en lugar de datos. Llamamos a esto un <em>encabezado</em>, y cuando leemos datos de una hoja de cálculo es importante saber si el archivo tiene un encabezado o no. La mayoría de las funciones de lectura asumen que hay un encabezado. Para saber si el archivo tiene un encabezado, es útil mirar el archivo antes de intentar leerlo. Esto se puede hacer con un editor de texto o con RStudio. En RStudio, podemos hacerlo abriendo el archivo en el editor o navegando a la ubicación del archivo, haciendo doble clic en el archivo y presionando <em>Ver archivo</em>.</p>
<p>Sin embargo, no todos los archivos de hoja de cálculo están en formato de texto. Las Hojas de cálculo de Google, que se representan en un navegador, son un ejemplo. Otro ejemplo es el formato propietario utilizado por Microsoft Excel. No se pueden ver con un editor de texto. A pesar de esto, debido al uso generalizado del software Microsoft Excel, este formato es ampliamente utilizado.</p>
<p>Comenzamos este capítulo describiendo la diferencia entre archivos de texto (ASCII), Unicode y binarios y cómo esto afecta la forma en que los importamos. Luego explicamos los conceptos de rutas de archivos y directorios de trabajo, que son esenciales para comprender cómo importar datos de manera efectiva. Luego presentamos el paquete __readr__y<strong>readxl</strong> y las funciones disponibles para importar hojas de cálculo en R. Finalmente, ofrecemos algunas recomendaciones sobre cómo almacenar y organizar datos en archivos. Los desafíos más complejos, como la extracción de datos de páginas web o documentos PDF, quedan para la parte del Libro de disputas de datos.</p>
<div id="rutas-y-el-directorio-de-trabajo" class="section level2">
<h2><span class="header-section-number">5.1</span> Rutas y el directorio de trabajo</h2>
<p>El primer paso al importar datos desde una hoja de cálculo es ubicar el archivo que contiene los datos. Aunque no lo recomendamos, puede utilizar un enfoque similar al que hace para abrir archivos en Microsoft Excel haciendo clic en el menú “Archivo” de RStudio, haciendo clic en “Importar conjunto de datos” y luego haciendo clic en las carpetas hasta encontrar el archivo. Queremos poder escribir código en lugar de utilizar el enfoque de apuntar y hacer clic. Las claves y los conceptos que necesitamos para aprender a hacer esto se describen en detalle en la parte de Herramientas de productividad de este libro. Aquí proporcionamos una descripción general de los conceptos básicos.</p>
<p>El principal desafío en este primer paso es que debemos dejar que las funciones R que realizan la importación sepan dónde buscar el archivo que contiene los datos. La forma más sencilla de hacerlo es tener una copia del archivo en la carpeta en la que se ven las funciones de importación de forma predeterminada. Una vez que hacemos esto, todo lo que tenemos que proporcionar a la función de importación es el nombre del archivo.</p>
<p>Se incluye una hoja de cálculo que contiene los datos de asesinatos de los EE. UU. Como parte del paquete <strong>dslabs</strong>. Encontrar este archivo no es sencillo, pero las siguientes líneas de código copian el archivo a la carpeta en la que R busca de forma predeterminada. Explicamos cómo funcionan estas líneas a continuación.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">filename &lt;-<span class="st"> &quot;murders.csv&quot;</span>
dir &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)
fullpath &lt;-<span class="st"> </span><span class="kw">file.path</span>(dir, filename)
<span class="kw">file.copy</span>(fullpath, <span class="st">&quot;murders.csv&quot;</span>)</code></pre></div>
<p>Este código no lee los datos en R, solo copia un archivo. Pero una vez que se copia el archivo, podemos importar los datos con una simple línea de código. Aquí usamos el <code>read_csv</code> función del paquete <strong>readr</strong>, que forma parte del tidyverse.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(filename)</code></pre></div>
<p>Los datos se importan y almacenan en <code>dat</code>. El resto de esta sección define algunos conceptos importantes y proporciona una visión general de cómo escribimos código que le dice a R cómo encontrar los archivos que queremos importar. Capítulo <a href="#unix"><strong>??</strong></a> proporciona más detalles sobre este tema.</p>
<div id="el-sistema-de-archivos" class="section level3">
<h3><span class="header-section-number">5.1.1</span> El sistema de archivos</h3>
<p>Puede pensar en el sistema de archivos de su computadora como una serie de carpetas anidadas, cada una con otras carpetas y archivos. Los científicos de datos se refieren a las carpetas como <em>directorios</em>. Nos referimos a la carpeta que contiene todas las demás carpetas como el directorio raíz. Nos referimos al directorio en el que estamos ubicados actualmente como el <em>directorio de trabajo</em>. Por lo tanto, el directorio de trabajo cambia a medida que se mueve por las carpetas: considérelo como su ubicación actual.</p>
</div>
<div id="caminos-relativos-y-completos" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Caminos relativos y completos</h3>
<p>El <em>path</em> de un archivo es una lista de nombres de directorios que pueden considerarse como instrucciones sobre qué carpetas hacer clic y en qué orden encontrar el archivo. Si estas instrucciones son para encontrar el archivo desde el directorio raíz, nos referiremos a él como la ruta completa. Si las instrucciones son para encontrar el archivo que comienza en el directorio de trabajo, nos referimos a él como una ruta relativa. Sección <a href="#filesystem"><strong>??</strong></a> proporciona más detalles sobre este tema.</p>
<p>Para ver un ejemplo de una ruta completa en su sistema, escriba lo siguiente:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.file</span>(<span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)</code></pre></div>
<p>Las cadenas separadas por barras son los nombres de directorio. La primera barra diagonal representa el directorio raíz y sabemos que esta es una ruta completa porque comienza con una barra diagonal. Si el primer nombre del directorio aparece sin una barra diagonal al frente, entonces se supone que la ruta es relativa. Podemos usar la función <code>list.files</code> para ver ejemplos de caminos relativos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dir &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)
<span class="kw">list.files</span>(<span class="dt">path =</span> dir)
<span class="co">#&gt;  [1] &quot;data&quot;        &quot;DESCRIPTION&quot; &quot;extdata&quot;     &quot;help&quot;       </span>
<span class="co">#&gt;  [5] &quot;html&quot;        &quot;INDEX&quot;       &quot;Meta&quot;        &quot;NAMESPACE&quot;  </span>
<span class="co">#&gt;  [9] &quot;R&quot;           &quot;script&quot;</span></code></pre></div>
<p>Estas rutas relativas nos dan la ubicación de los archivos o directorios si comenzamos en el directorio con la ruta completa. Por ejemplo, la ruta completa a la <code>help</code> directorio en el ejemplo anterior es <code>/Library/Frameworks/R.framework/Versions/3.5/Resources/library/dslabs/help</code>.</p>
<p><strong>Nota</strong>: Probablemente no harás mucho uso del <code>system.file</code> funcionar en su trabajo de análisis de datos del día a día. Lo presentamos en esta sección porque facilita el intercambio de hojas de cálculo al incluirlas en el paquete <strong>dslabs</strong>. Raramente tendrá el lujo de incluir datos en paquetes que ya ha instalado. Sin embargo, con frecuencia necesitará navegar por rutas completas y relativas e importar datos con formato de hoja de cálculo.</p>
</div>
<div id="el-directorio-de-trabajo" class="section level3">
<h3><span class="header-section-number">5.1.3</span> El directorio de trabajo</h3>
<p>Recomendamos encarecidamente escribir solo rutas relativas en su código. La razón es que las rutas completas son exclusivas de su computadora y desea que su código sea portátil. Puede obtener la ruta completa de su directorio de trabajo sin escribir explícitamente utilizando <code>getwd</code> función.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wd &lt;-<span class="st"> </span><span class="kw">getwd</span>()</code></pre></div>
<p>Si necesita cambiar su directorio de trabajo, puede usar la función <code>setwd</code> o puede cambiarlo a través de RStudio haciendo clic en “Sesión”.</p>
</div>
<div id="generando-nombres-de-ruta" class="section level3">
<h3><span class="header-section-number">5.1.4</span> Generando nombres de ruta</h3>
<p>Otro ejemplo de obtener una ruta completa sin escribir explícitamente se dio arriba cuando creamos el objeto <code>fullpath</code> me gusta esto:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">filename &lt;-<span class="st"> &quot;murders.csv&quot;</span>
dir &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)
fullpath &lt;-<span class="st"> </span><span class="kw">file.path</span>(dir, filename)</code></pre></div>
<p>La función <code>system.file</code> proporciona la ruta completa de la carpeta que contiene todos los archivos y directorios relevantes para el paquete especificado por el <code>package</code> argumento. Al explorar los directorios en <code>dir</code> nos encontramos con que el <code>extdata</code> contiene el archivo que queremos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dir &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)
filename <span class="op">%in%</span><span class="st"> </span><span class="kw">list.files</span>(<span class="kw">file.path</span>(dir, <span class="st">&quot;extdata&quot;</span>))
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>Los <code>system.file</code> la función nos permite proporcionar un subdirectorio como primer argumento, para que podamos obtener la ruta completa de <code>extdata</code> directorio como este:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dir &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)</code></pre></div>
<p>La función <code>file.path</code> se usa para combinar nombres de directorio para producir la ruta completa del archivo que queremos importar.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fullpath &lt;-<span class="st"> </span><span class="kw">file.path</span>(dir, filename)</code></pre></div>
</div>
<div id="copiando-archivos-usando-rutas" class="section level3">
<h3><span class="header-section-number">5.1.5</span> Copiando archivos usando rutas</h3>
<p>La última línea de código que usamos para copiar el archivo en nuestro directorio de inicio la función <code>file.copy</code>. Esta función toma dos argumentos: el archivo para copiar y el nombre para asignarlo en el nuevo directorio.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.copy</span>(fullpath, <span class="st">&quot;murders.csv&quot;</span>)
<span class="co">#&gt; [1] TRUE</span></code></pre></div>
<p>Si un archivo se copia correctamente, el <code>file.copy</code> la función vuelve <code>TRUE</code>. Tenga en cuenta que le estamos dando al archivo el mismo nombre, <code>murders.csv</code>, pero podríamos haberle dado cualquier nombre. También tenga en cuenta que al no iniciar la cadena con una barra diagonal, R asume que esta es una ruta relativa y copia el archivo al directorio de trabajo.</p>
<p>Debería poder ver el archivo en su directorio de trabajo y puede verificarlo usando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">list.files</span>()</code></pre></div>
</div>
</div>
<div id="los-paquetes-readr-y-readxl" class="section level2">
<h2><span class="header-section-number">5.2</span> Los paquetes readr y readxl</h2>
<p>En esta sección presentamos las principales funciones de importación de datos tidyverse. Utilizaremos el <code>murders.csv</code> archivo proporcionado por el paquete <strong>dslabs</strong> como ejemplo. Para simplificar la ilustración, copiaremos el archivo a nuestro directorio de trabajo usando el siguiente código:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">filename &lt;-<span class="st"> &quot;murders.csv&quot;</span>
dir &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)
fullpath &lt;-<span class="st"> </span><span class="kw">file.path</span>(dir, filename)
<span class="kw">file.copy</span>(fullpath, <span class="st">&quot;murders.csv&quot;</span>)</code></pre></div>
<div id="lector" class="section level3">
<h3><span class="header-section-number">5.2.1</span> lector</h3>
<p>La biblioteca <strong>readr</strong> incluye funciones para leer datos almacenados en hojas de cálculo de archivos de texto en R. __readr__es parte del paquete<strong>tidyverse</strong>, o puede cargarlo directamente:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readr)</code></pre></div>
<p>Las siguientes funciones están disponibles para leer hojas de cálculo:</p>
<table>
<colgroup>
<col width="15%" />
<col width="63%" />
<col width="21%" />
</colgroup>
<thead>
<tr class="header">
<th>El</th>
<th>Función</th>
<th>Formato</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>el</td>
<td>read_table</td>
<td>valores separados por espacios en blanco</td>
</tr>
<tr class="even">
<td>el</td>
<td>read_csv</td>
<td>valores separados por comas</td>
</tr>
<tr class="odd">
<td>el</td>
<td>read_csv2</td>
<td>valores separados por punto y coma</td>
</tr>
<tr class="even">
<td>el</td>
<td>read_tsv</td>
<td>valores separados delimitados por tabulaciones</td>
</tr>
<tr class="odd">
<td>el</td>
<td>read_delim</td>
<td>formato de archivo de texto general, debe definir delimitador</td>
</tr>
</tbody>
</table>
<p>Aunque el sufijo generalmente nos dice qué tipo de archivo es, no hay garantía de que siempre coincidan. Podemos abrir el archivo para echar un vistazo o usar la función <code>read_lines</code> para mirar algunas líneas:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">read_lines</span>(<span class="st">&quot;murders.csv&quot;</span>, <span class="dt">n_max =</span> <span class="dv">3</span>)
<span class="co">#&gt; [1] &quot;state,abb,region,population,total&quot;</span>
<span class="co">#&gt; [2] &quot;Alabama,AL,South,4779736,135&quot;     </span>
<span class="co">#&gt; [3] &quot;Alaska,AK,West,710231,19&quot;</span></code></pre></div>
<p>Esto también muestra que hay un encabezado. Ahora estamos listos para leer los datos en R. Del sufijo .csv y el vistazo al archivo, sabemos usar <code>read_csv</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(filename)
<span class="co">#&gt; Parsed with column specification:</span>
<span class="co">#&gt; cols(</span>
<span class="co">#&gt;   state = col_character(),</span>
<span class="co">#&gt;   abb = col_character(),</span>
<span class="co">#&gt;   region = col_character(),</span>
<span class="co">#&gt;   population = col_double(),</span>
<span class="co">#&gt;   total = col_double()</span>
<span class="co">#&gt; )</span></code></pre></div>
<p>Tenga en cuenta que recibimos un mensaje que nos informa qué tipos de datos se utilizaron para cada columna. También tenga en cuenta que <code>dat</code> es un <code>tibble</code>, no solo un marco de datos. Esto es porque <code>read_csv</code> es un analizador <strong>tidyverse</strong>. Podemos confirmar que los datos se han leído de hecho con:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(dat)</code></pre></div>
<p>Finalmente, tenga en cuenta que también podemos usar la ruta completa para el archivo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(fullpath)</code></pre></div>
</div>
<div id="readxl" class="section level3">
<h3><span class="header-section-number">5.2.2</span> readxl</h3>
<p>Puede cargar el paquete <strong>readxl</strong> usando</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readxl)</code></pre></div>
<p>El paquete proporciona funciones para leer en formatos de Microsoft Excel:</p>
<table>
<thead>
<tr class="header">
<th>El</th>
<th>Función</th>
<th>Formato</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>el</td>
<td>read_excel</td>
<td>detectar automáticamente el formato</td>
</tr>
<tr class="even">
<td>el</td>
<td>read_xls</td>
<td>formato original</td>
</tr>
<tr class="odd">
<td>el</td>
<td>read_xlsx</td>
<td>nuevo formato</td>
</tr>
</tbody>
</table>
<p>Los formatos de Microsoft Excel le permiten tener más de una hoja de cálculo en un archivo. Estos se conocen como <em>hojas</em>. Las funciones enumeradas anteriormente leen la primera hoja por defecto, pero también podemos leer las otras. los <code>excel_sheets</code> la función nos da los nombres de todas las hojas en un archivo de Excel. Estos nombres se pueden pasar a <code>sheet</code> argumento en las tres funciones anteriores para leer hojas distintas de la primera.</p>
</div>
</div>
<div id="ejercicios-13" class="section level2">
<h2><span class="header-section-number">5.3</span> Ejercicios</h2>
<p>1. Utilizar el <code>read_csv</code> función para leer cada uno de los archivos que guarda el siguiente código en el <code>files</code> objeto:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">path &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)
files &lt;-<span class="st"> </span><span class="kw">list.files</span>(path)
files</code></pre></div>
<p>2. Tenga en cuenta que el último, el <code>olive</code> archivo, nos da una advertencia. Esto se debe a que a la primera línea del archivo le falta el encabezado de la primera columna.</p>
<p>Lea el archivo de ayuda para <code>read_csv</code> para descubrir cómo leer el archivo sin leer este encabezado. Si omite el encabezado, no debería recibir esta advertencia. Guarde el resultado en un objeto llamado <code>dat</code>.</p>
<p>3. Un problema con el enfoque anterior es que no sabemos qué representan las columnas. Tipo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(dat)</code></pre></div>
<p>para ver que los nombres no son informativos.</p>
<p>Utilizar el <code>readLines</code> función para leer solo en la primera línea (luego aprendemos cómo extraer valores de la salida).</p>
</div>
<div id="descargando-archivos" class="section level2">
<h2><span class="header-section-number">5.4</span> Descargando archivos</h2>
<p>Otro lugar común para residir los datos es en Internet. Cuando estos datos están en archivos, podemos descargarlos y luego importarlos o incluso leerlos directamente desde la web. Por ejemplo, notamos que debido a que nuestro paquete <strong>dslabs</strong> está en GitHub, el archivo que descargamos con el paquete tiene una URL:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">url &lt;-<span class="st"> &quot;https://raw.githubusercontent.com/rafalab/dslabs/master/inst/</span>
<span class="st">extdata/murders.csv&quot;</span></code></pre></div>
<p>Los <code>read_csv</code> el archivo puede leer estos archivos directamente:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(url)</code></pre></div>
<p>Si desea tener una copia local del archivo, puede usar el <code>download.file</code> función:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">download.file</span>(url, <span class="st">&quot;murders.csv&quot;</span>)</code></pre></div>
<p>Esto descargará el archivo y lo guardará en su sistema con el nombre <code>murders.csv</code>. Puedes usar cualquier nombre aquí, no necesariamente <code>murders.csv</code>. Tenga en cuenta que al usar <code>download.file</code> debe tener cuidado ya que sobrescribirá los archivos existentes sin previo aviso.</p>
<p>Dos funciones que a veces son útiles al descargar datos de Internet son <code>tempdir</code> y <code>tempfile</code>. El primero crea un directorio con un nombre aleatorio que es muy probable que sea único. Similar, <code>tempfile</code> crea una cadena de caracteres, no un archivo, que probablemente sea un nombre de archivo único. Entonces puede ejecutar un comando como este que borra el archivo temporal una vez que importa los datos:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tmp_filename &lt;-<span class="st"> </span><span class="kw">tempfile</span>()
<span class="kw">download.file</span>(url, tmp_filename)
dat &lt;-<span class="st"> </span><span class="kw">read_csv</span>(tmp_filename)
<span class="kw">file.remove</span>(tmp_filename)</code></pre></div>
</div>
<div id="funciones-de-importacion-de-base-r" class="section level2">
<h2><span class="header-section-number">5.5</span> Funciones de importación de base R</h2>
<p>R-base también proporciona funciones de importación. Estos tienen nombres similares a los del <strong>tidyverse</strong>, por ejemplo <code>read.table</code>, <code>read.csv</code> y <code>read.delim</code>. Sin embargo, hay un par de diferencias importantes. Para mostrar esto, leemos los datos con una función R-base:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat2 &lt;-<span class="st"> </span><span class="kw">read.csv</span>(filename)</code></pre></div>
<p>Una diferencia importante es que los caracteres se convierten en factores:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(dat2<span class="op">$</span>abb)
<span class="co">#&gt; [1] &quot;factor&quot;</span>
<span class="kw">class</span>(dat2<span class="op">$</span>region)
<span class="co">#&gt; [1] &quot;factor&quot;</span></code></pre></div>
<p>Esto se puede evitar estableciendo el argumento <code>stringsAsFactors</code> a <code>FALSE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dat &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;murders.csv&quot;</span>, <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)
<span class="kw">class</span>(dat<span class="op">$</span>state)
<span class="co">#&gt; [1] &quot;character&quot;</span></code></pre></div>
<p>En nuestra experiencia, esto puede ser motivo de confusión ya que una variable que se guardó como caracteres en el archivo se convierte en factores independientemente de lo que represente la variable. De hecho, <strong>recomendamos</strong> configurar <code>stringsAsFactors=FALSE</code> ser su enfoque predeterminado al usar los analizadores R-base. Puede convertir fácilmente las columnas deseadas en factores después de importar datos.</p>
<div id="scan" class="section level3">
<h3><span class="header-section-number">5.5.1</span> <code>scan</code></h3>
<p>Al leer en hojas de cálculo, muchas cosas pueden salir mal. El archivo puede tener un encabezado multilínea, faltar celdas o puede usar una codificación inesperada<a href="#fn15" class="footnoteRef" id="fnref15"><sup>15</sup></a>. Le recomendamos que lea esta publicación sobre problemas comunes que se encuentran aquí: [<a href="https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about" class="uri">https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about</a> -unicode-and-character-sets-no-excuses/] (<a href="https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know" class="uri">https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know</a> -about-unicode-and-character-sets-no-excuses/).</p>
<p>Con experiencia, aprenderá a lidiar con diferentes desafíos. Sería útil leer detenidamente los archivos de ayuda para las funciones discutidas aquí. Otras dos funciones que son útiles son <code>scan</code>. Con el escaneo puede leer cada celda de un archivo. Aquí hay un ejemplo:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">path &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;dslabs&quot;</span>)
filename &lt;-<span class="st"> &quot;murders.csv&quot;</span>
x &lt;-<span class="st"> </span><span class="kw">scan</span>(<span class="kw">file.path</span>(path, filename), <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>, <span class="dt">what =</span> <span class="st">&quot;c&quot;</span>)
x[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]
<span class="co">#&gt;  [1] &quot;state&quot;      &quot;abb&quot;        &quot;region&quot;     &quot;population&quot; &quot;total&quot;     </span>
<span class="co">#&gt;  [6] &quot;Alabama&quot;    &quot;AL&quot;         &quot;South&quot;      &quot;4779736&quot;    &quot;135&quot;</span></code></pre></div>
<p>Tenga en cuenta que el tidyverse proporciona <code>read_lines</code>, una función igualmente útil.</p>
</div>
</div>
<div id="texto-versus-archivos-binarios" class="section level2">
<h2><span class="header-section-number">5.6</span> Texto versus archivos binarios</h2>
<p>Para fines de ciencia de datos, los archivos generalmente se pueden clasificar en dos categorías: archivos de texto (también conocidos como archivos ASCII) y archivos binarios. Ya has trabajado con archivos de texto. Todos sus scripts R son archivos de texto y también los archivos R markdown utilizados para crear este libro. Las tablas csv que ha leído también son archivos de texto. Una gran ventaja de estos archivos es que podemos “mirarlos” fácilmente sin tener que comprar ningún tipo de software especial o seguir instrucciones complicadas. Se puede usar cualquier editor de texto para examinar un archivo de texto, incluidos los editores disponibles gratuitamente como RStudio, Notepad, textEdit, vi, emacs, nano y pico. Para ver esto, intente abrir un archivo csv con la herramienta RStudio “Abrir archivo”. Debería poder ver el contenido directamente en su editor. Sin embargo, si intenta abrir, digamos, un archivo Excel xls, jpg o png, no podrá ver nada inmediatamente útil. Estos son archivos binarios. Los archivos de Excel son en realidad carpetas comprimidas con varios archivos de texto dentro. Pero la principal distinción aquí es que los archivos de texto se pueden examinar fácilmente.</p>
<p>Aunque R incluye herramientas para leer archivos binarios ampliamente utilizados, como archivos xls, en general querrá encontrar conjuntos de datos almacenados en archivos de texto. Del mismo modo, al compartir datos, desea que estén disponibles como archivos de texto siempre que el almacenamiento no sea un problema (los archivos binarios son mucho más eficientes para ahorrar espacio en su disco). En general, los formatos de texto sin formato facilitan el intercambio de datos, ya que no se requiere software comercial para trabajar con los datos.</p>
<p>Extraer datos de una hoja de cálculo almacenada como un archivo de texto es quizás la forma más fácil de llevar datos de un archivo a una sesión R. Desafortunadamente, las hojas de cálculo no siempre están disponibles y el hecho de que pueda ver los archivos de texto no implica necesariamente que extraer datos de ellos sea sencillo. En la parte del Libro de disputas de datos, aprendemos a extraer datos de archivos de texto más complejos, como los archivos html.</p>
</div>
<div id="unicode-versus-ascii" class="section level2">
<h2><span class="header-section-number">5.7</span> Unicode versus ASCII</h2>
<p>Una trampa en la ciencia de datos es asumir que un archivo es un archivo de texto ASCII cuando, de hecho, es algo más que puede parecerse mucho a un archivo de texto ASCII: un archivo de texto Unicode.</p>
<p>Para comprender la diferencia entre estos, recuerde que todo en una computadora necesita convertirse eventualmente en 0s y 1s. ASCII es una codificación que asigna caracteres a números. ASCII usa 7 bits (0s y 1s) lo que resulta en <span class="math inline">\(2^7 = 128\)</span> elementos únicos, suficientes para codificar todos los caracteres en un teclado en inglés. Sin embargo, otros idiomas usan caracteres no incluidos en esta codificación. Por ejemplo, el é en México no está codificado por ASCII. Por esta razón, se definió una nueva codificación, que utiliza más de 7 bits: Unicode. Cuando se utiliza Unicode, se puede elegir entre 8, 16 y 32 bits abreviados UTF-8, UTF-16 y UTF-32 respectivamente. RStudio en realidad usa la codificación UTF-8.</p>
<p>Aunque no vamos a entrar en detalles sobre cómo lidiar con las diferentes codificaciones aquí, es importante que sepa que existen diferentes codificaciones para que pueda diagnosticar mejor un problema si lo encuentra. Una forma en que se manifiestan los problemas es cuando ves personajes de “aspecto extraño” que no esperabas. Esta discusión de StackOverflow es un ejemplo: [<a href="https://stackoverflow.com/questions/18789330/r-on-windows-character-encoding-hellfont" class="uri">https://stackoverflow.com/questions/18789330/r-on-windows-character-encoding-hellfont</a>&gt;(<a href="https://stackoverflow.com/questions/18789330/r-on-windows" class="uri">https://stackoverflow.com/questions/18789330/r-on-windows</a> -cadena de codificación de caracteres).</p>
</div>
<div id="organizando-datos-con-hojas-de-calculo" class="section level2">
<h2><span class="header-section-number">5.8</span> Organizando datos con hojas de cálculo</h2>
<p>Aunque hay paquetes R diseñados para leer este formato, si elige un formato de archivo para guardar sus propios datos, generalmente desea evitar Microsoft Excel. Recomendamos Google Sheets como una herramienta de software gratuita para organizar datos. Proporcionamos más recomendaciones en la sección Organización de datos con hojas de cálculo. Este libro se centra en el análisis de datos. Sin embargo, a menudo un científico de datos necesita recopilar datos o trabajar con otros que recopilan datos. Completar una hoja de cálculo a mano es una práctica que desaconsejamos y, en cambio, recomendamos que el proceso se automatice lo más posible. Pero a veces solo tienes que hacerlo. En esta sección, proporcionamos recomendaciones sobre cómo almacenar datos en una hoja de cálculo. Resumimos un artículo de Karl Broman y Kara Woo<a href="#fn16" class="footnoteRef" id="fnref16"><sup>16</sup></a>. A continuación se encuentran sus recomendaciones generales. Por favor lea el periódico para detalles importantes.</p>
<ul>
<li><strong>Sea coherente</strong> - Antes de comenzar a ingresar datos, tenga un plan. Una vez que tenga un plan, sea consistente y sígalo.</li>
<li><strong>Elija buenos nombres para las cosas</strong>: desea que los nombres que elija para los objetos, archivos y directorios sean memorables, fáciles de deletrear y descriptivos. Esto es realmente un equilibrio difícil de lograr y requiere tiempo y reflexión. Una regla importante a seguir es <strong>no use espacios</strong>, use guiones bajos <code>_</code> o guiones en su lugar <code>-</code>. Además, evite los símbolos; atenerse a letras y números.</li>
<li><strong>Escribir fechas como AAAA-MM-DD</strong> - Para evitar confusiones, recomendamos encarecidamente utilizar este estándar global ISO 8601.</li>
<li><strong>No Celdas vacías</strong> - Complete todas las celdas y use un código común para los datos faltantes.</li>
<li><strong>Ponga solo una cosa en una celda</strong> - Es mejor agregar columnas para almacenar la información adicional en lugar de tener más de una pieza de información en una celda.</li>
<li><strong>Hazlo un rectángulo</strong> - La hoja de cálculo debe ser un rectángulo.</li>
<li><strong>Crear un diccionario de datos</strong> - Si necesita explicar cosas, como cuáles son las columnas o cuáles son las etiquetas utilizadas para las variables categóricas, hágalo en un archivo separado.</li>
<li><strong>Sin cálculos en los archivos de datos sin procesar</strong> - Excel le permite realizar cálculos. No hagas esta parte de tu hoja de cálculo. El código para los cálculos debe estar en un script.</li>
<li><strong>No use color de fuente o resaltado como datos</strong> - La mayoría de las funciones de importación no pueden importar esta información. Codifique esta información como una variable en su lugar.</li>
<li><strong>Hacer copias de seguridad</strong>: realice copias de seguridad periódicas de sus datos.</li>
<li><strong>Utilice la validación de datos para evitar errores</strong> - Aproveche las herramientas en su software de hoja de cálculo para que el proceso sea lo más libre de errores y repetitivo-libre de estrés posible.</li>
<li><strong>Guardar los datos como archivos de texto</strong> - Guarde los archivos para compartir en formato delimitado por comas o tabulaciones.</li>
</ul>
</div>
<div id="ejercicios-14" class="section level2">
<h2><span class="header-section-number">5.9</span> Ejercicios</h2>
<p>1. Elija una medida que pueda tomar de forma regular. Por ejemplo, su peso diario o cuánto tiempo le lleva correr 5 millas. Mantenga una hoja de cálculo que incluya la fecha, la hora, la medición y cualquier otra variable informativa que considere valiosa. Haz esto por 2 semanas. Luego haz una trama.</p>

</div>
</div>





















<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p><a href="https://en.wikipedia.org/wiki/Character_encoding" class="uri">https://en.wikipedia.org/wiki/Character_encoding</a><a href="importing-data.html#fnref15">↩</a></p></li>
<li id="fn16"><p><a href="https://www.tandfonline.com/doi/abs/10.1080/00031305.2017.1375989" class="uri">https://www.tandfonline.com/doi/abs/10.1080/00031305.2017.1375989</a><a href="importing-data.html#fnref16">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tidyverse.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["libro.pdf", "libro.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
