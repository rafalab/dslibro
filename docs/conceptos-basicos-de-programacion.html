<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 3 Conceptos básicos de programación | Introducción a la Ciencia de Datos</title>
  <meta name="description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar desafíos de situaciones reales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y [Fix:] machine learning. Además, permitirá a los lectores desarrollar destrezas como la programación R, [Fix:] disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 3 Conceptos básicos de programación | Introducción a la Ciencia de Datos" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar desafíos de situaciones reales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y [Fix:] machine learning. Además, permitirá a los lectores desarrollar destrezas como la programación R, [Fix:] disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 3 Conceptos básicos de programación | Introducción a la Ciencia de Datos" />
  
  <meta name="twitter:description" content="Este libro presenta conceptos y destrezas que les ayudarán abordar desafíos de situaciones reales del análisis de datos. Cubre conceptos de probabilidad, inferencia estadística, regresión lineal y [Fix:] machine learning. Además, permitirá a los lectores desarrollar destrezas como la programación R, [Fix:] disputa de datos con dplyr, visualización de datos con ggplot2, organización de archivos con Shell de UNIX / Linux, control de versiones con GitHub y preparación de documentos reproducibles con R markdown." />
  

<meta name="author" content="Rafael A. Irizarry" />


<meta name="date" content="2020-03-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-basics.html">
<link rel="next" href="tidyverse.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a la Ciencia de Datos</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="" data-path="agradecimientos.html"><a href="agradecimientos.html"><i class="fa fa-check"></i>Agradecimientos</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#case-studies"><i class="fa fa-check"></i>Case studies</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#quien-encontrara-util-este-libro"><i class="fa fa-check"></i>¿Quién encontrará útil este libro?</a></li>
<li class="chapter" data-level="0.1" data-path="introduccion.html"><a href="introduccion.html#que-cubre-este-libro--f"><i class="fa fa-check"></i><b>0.1</b> ¿Que cubre este libro? {-}f</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#que-no-cubre-este-libro"><i class="fa fa-check"></i>¿Qué no cubre este libro?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Comenzando con R y RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#por-que-r"><i class="fa fa-check"></i><b>1.1</b> ¿Por qué R?</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#la-consola-r"><i class="fa fa-check"></i><b>1.2</b> La consola R</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#fix-scripts"><i class="fa fa-check"></i><b>1.3</b> [Fix:] Scripts</a></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#rstudio"><i class="fa fa-check"></i><b>1.4</b> RStudio</a><ul>
<li class="chapter" data-level="1.4.1" data-path="getting-started.html"><a href="getting-started.html#fix-the-panes"><i class="fa fa-check"></i><b>1.4.1</b> [FIX:] The panes</a></li>
<li class="chapter" data-level="1.4.2" data-path="getting-started.html"><a href="getting-started.html#fix-key-bindings-atajos-de-teclado"><i class="fa fa-check"></i><b>1.4.2</b> [FIX:] Key Bindings: Atajos de teclado</a></li>
<li class="chapter" data-level="1.4.3" data-path="getting-started.html"><a href="getting-started.html#ejecutando-comandos-mientras-edita-scripts"><i class="fa fa-check"></i><b>1.4.3</b> Ejecutando comandos mientras edita scripts</a></li>
<li class="chapter" data-level="1.4.4" data-path="getting-started.html"><a href="getting-started.html#cambio-de-opciones-globales"><i class="fa fa-check"></i><b>1.4.4</b> Cambio de opciones globales</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="getting-started.html"><a href="getting-started.html#instalacion-de-paquetes-r"><i class="fa fa-check"></i><b>1.5</b> Instalación de paquetes R</a></li>
</ul></li>
<li class="part"><span><b>I R</b></span></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R básicos</a><ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#estudio-de-caso-asesinatos-de-armas"><i class="fa fa-check"></i><b>2.1</b> Estudio de caso: asesinatos de armas</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#los-muy-basicos"><i class="fa fa-check"></i><b>2.2</b> Los muy básicos</a><ul>
<li class="chapter" data-level="2.2.1" data-path="r-basics.html"><a href="r-basics.html#objetos"><i class="fa fa-check"></i><b>2.2.1</b> Objetos</a></li>
<li class="chapter" data-level="2.2.2" data-path="r-basics.html"><a href="r-basics.html#el-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.2</b> El espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.3" data-path="r-basics.html"><a href="r-basics.html#funciones"><i class="fa fa-check"></i><b>2.2.3</b> Funciones</a></li>
<li class="chapter" data-level="2.2.4" data-path="r-basics.html"><a href="r-basics.html#otros-objetos-preconstruidos"><i class="fa fa-check"></i><b>2.2.4</b> Otros objetos preconstruidos</a></li>
<li class="chapter" data-level="2.2.5" data-path="r-basics.html"><a href="r-basics.html#nombres-de-variables"><i class="fa fa-check"></i><b>2.2.5</b> Nombres de variables</a></li>
<li class="chapter" data-level="2.2.6" data-path="r-basics.html"><a href="r-basics.html#guardar-su-espacio-de-trabajo"><i class="fa fa-check"></i><b>2.2.6</b> Guardar su espacio de trabajo</a></li>
<li class="chapter" data-level="2.2.7" data-path="r-basics.html"><a href="r-basics.html#scripts-motivadores"><i class="fa fa-check"></i><b>2.2.7</b> Scripts motivadores</a></li>
<li class="chapter" data-level="2.2.8" data-path="r-basics.html"><a href="r-basics.html#comentando-tu-codigo"><i class="fa fa-check"></i><b>2.2.8</b> Comentando tu código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#ejercicios"><i class="fa fa-check"></i><b>2.3</b> Ejercicios</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#tipos-de-datos"><i class="fa fa-check"></i><b>2.4</b> Tipos de datos</a><ul>
<li class="chapter" data-level="2.4.1" data-path="r-basics.html"><a href="r-basics.html#data-frames"><i class="fa fa-check"></i><b>2.4.1</b> Marcos de datos</a></li>
<li class="chapter" data-level="2.4.2" data-path="r-basics.html"><a href="r-basics.html#examinando-un-objeto"><i class="fa fa-check"></i><b>2.4.2</b> Examinando un objeto</a></li>
<li class="chapter" data-level="2.4.3" data-path="r-basics.html"><a href="r-basics.html#el-descriptor-de-acceso"><i class="fa fa-check"></i><b>2.4.3</b> El descriptor de acceso: <code>$</code></a></li>
<li class="chapter" data-level="2.4.4" data-path="r-basics.html"><a href="r-basics.html#vectores-numericos-caracteres-y-logicos"><i class="fa fa-check"></i><b>2.4.4</b> Vectores: numéricos, caracteres y lógicos</a></li>
<li class="chapter" data-level="2.4.5" data-path="r-basics.html"><a href="r-basics.html#factors"><i class="fa fa-check"></i><b>2.4.5</b> Factores</a></li>
<li class="chapter" data-level="2.4.6" data-path="r-basics.html"><a href="r-basics.html#listas"><i class="fa fa-check"></i><b>2.4.6</b> Listas</a></li>
<li class="chapter" data-level="2.4.7" data-path="r-basics.html"><a href="r-basics.html#matrices"><i class="fa fa-check"></i><b>2.4.7</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#ejercicios-1"><i class="fa fa-check"></i><b>2.5</b> Ejercicios</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#vectores"><i class="fa fa-check"></i><b>2.6</b> Vectores</a><ul>
<li class="chapter" data-level="2.6.1" data-path="r-basics.html"><a href="r-basics.html#crear-vectores"><i class="fa fa-check"></i><b>2.6.1</b> Crear vectores</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-basics.html"><a href="r-basics.html#nombres"><i class="fa fa-check"></i><b>2.6.2</b> Nombres</a></li>
<li class="chapter" data-level="2.6.3" data-path="r-basics.html"><a href="r-basics.html#secuencias"><i class="fa fa-check"></i><b>2.6.3</b> Secuencias</a></li>
<li class="chapter" data-level="2.6.4" data-path="r-basics.html"><a href="r-basics.html#subconjunto"><i class="fa fa-check"></i><b>2.6.4</b> Subconjunto</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#coercion"><i class="fa fa-check"></i><b>2.7</b> Coerción</a><ul>
<li class="chapter" data-level="2.7.1" data-path="r-basics.html"><a href="r-basics.html#no-disponible-na"><i class="fa fa-check"></i><b>2.7.1</b> No disponible (NA)</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#ejercicios-2"><i class="fa fa-check"></i><b>2.8</b> Ejercicios</a><ul>
<li class="chapter" data-level="2.8.1" data-path="r-basics.html"><a href="r-basics.html#sort"><i class="fa fa-check"></i><b>2.8.1</b> <code>sort</code></a></li>
<li class="chapter" data-level="2.8.2" data-path="r-basics.html"><a href="r-basics.html#order"><i class="fa fa-check"></i><b>2.8.2</b> <code>order</code></a></li>
<li class="chapter" data-level="2.8.3" data-path="r-basics.html"><a href="r-basics.html#max-y-which.max"><i class="fa fa-check"></i><b>2.8.3</b> <code>max</code> y <code>which.max</code></a></li>
<li class="chapter" data-level="2.8.4" data-path="r-basics.html"><a href="r-basics.html#rank"><i class="fa fa-check"></i><b>2.8.4</b> <code>rank</code></a></li>
<li class="chapter" data-level="2.8.5" data-path="r-basics.html"><a href="r-basics.html#cuidado-con-el-reciclaje"><i class="fa fa-check"></i><b>2.8.5</b> Cuidado con el reciclaje</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#ejercicios-3"><i class="fa fa-check"></i><b>2.9</b> Ejercicios</a></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#aritmetica-de-vectores"><i class="fa fa-check"></i><b>2.10</b> Aritmética de vectores</a><ul>
<li class="chapter" data-level="2.10.1" data-path="r-basics.html"><a href="r-basics.html#reescalando-un-vector"><i class="fa fa-check"></i><b>2.10.1</b> Reescalando un vector</a></li>
<li class="chapter" data-level="2.10.2" data-path="r-basics.html"><a href="r-basics.html#dos-vectores"><i class="fa fa-check"></i><b>2.10.2</b> Dos vectores</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#ejercicios-4"><i class="fa fa-check"></i><b>2.11</b> Ejercicios</a></li>
<li class="chapter" data-level="2.12" data-path="r-basics.html"><a href="r-basics.html#indexacion"><i class="fa fa-check"></i><b>2.12</b> Indexación</a><ul>
<li class="chapter" data-level="2.12.1" data-path="r-basics.html"><a href="r-basics.html#subconjunto-con-logicas"><i class="fa fa-check"></i><b>2.12.1</b> Subconjunto con lógicas</a></li>
<li class="chapter" data-level="2.12.2" data-path="r-basics.html"><a href="r-basics.html#operadores-logicos"><i class="fa fa-check"></i><b>2.12.2</b> Operadores logicos</a></li>
<li class="chapter" data-level="2.12.3" data-path="r-basics.html"><a href="r-basics.html#which"><i class="fa fa-check"></i><b>2.12.3</b> <code>which</code></a></li>
<li class="chapter" data-level="2.12.4" data-path="r-basics.html"><a href="r-basics.html#match"><i class="fa fa-check"></i><b>2.12.4</b> <code>match</code></a></li>
<li class="chapter" data-level="2.12.5" data-path="r-basics.html"><a href="r-basics.html#in"><i class="fa fa-check"></i><b>2.12.5</b> <code>%in%</code></a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="r-basics.html"><a href="r-basics.html#ejercicios-5"><i class="fa fa-check"></i><b>2.13</b> Ejercicios</a></li>
<li class="chapter" data-level="2.14" data-path="r-basics.html"><a href="r-basics.html#parcelas-basicas"><i class="fa fa-check"></i><b>2.14</b> Parcelas básicas</a><ul>
<li class="chapter" data-level="2.14.1" data-path="r-basics.html"><a href="r-basics.html#plot"><i class="fa fa-check"></i><b>2.14.1</b> <code>plot</code></a></li>
<li class="chapter" data-level="2.14.2" data-path="r-basics.html"><a href="r-basics.html#hist"><i class="fa fa-check"></i><b>2.14.2</b> <code>hist</code></a></li>
<li class="chapter" data-level="2.14.3" data-path="r-basics.html"><a href="r-basics.html#boxplot"><i class="fa fa-check"></i><b>2.14.3</b> <code>boxplot</code></a></li>
<li class="chapter" data-level="2.14.4" data-path="r-basics.html"><a href="r-basics.html#image"><i class="fa fa-check"></i><b>2.14.4</b> <code>image</code></a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="r-basics.html"><a href="r-basics.html#ejercicios-6"><i class="fa fa-check"></i><b>2.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html"><i class="fa fa-check"></i><b>3</b> Conceptos básicos de programación</a><ul>
<li class="chapter" data-level="3.1" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#conditionals"><i class="fa fa-check"></i><b>3.1</b> Expresiones condicionales</a></li>
<li class="chapter" data-level="3.2" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#definiendo-funciones"><i class="fa fa-check"></i><b>3.2</b> Definiendo funciones</a></li>
<li class="chapter" data-level="3.3" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#espacios-de-nombres"><i class="fa fa-check"></i><b>3.3</b> Espacios de nombres</a></li>
<li class="chapter" data-level="3.4" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#for-loops"><i class="fa fa-check"></i><b>3.4</b> For-loops</a></li>
<li class="chapter" data-level="3.5" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#vectorization"><i class="fa fa-check"></i><b>3.5</b> Vectorización y funcionales</a></li>
<li class="chapter" data-level="3.6" data-path="conceptos-basicos-de-programacion.html"><a href="conceptos-basicos-de-programacion.html#ejercicios-7"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> El tidyverse</a><ul>
<li class="chapter" data-level="4.1" data-path="tidyverse.html"><a href="tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.1</b> Datos ordenados</a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-8"><i class="fa fa-check"></i><b>4.2</b> Ejercicios</a></li>
<li class="chapter" data-level="4.3" data-path="tidyverse.html"><a href="tidyverse.html#manipulacion-de-marcos-de-datos"><i class="fa fa-check"></i><b>4.3</b> Manipulación de marcos de datos</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse.html"><a href="tidyverse.html#agregar-una-columna-con-mutate"><i class="fa fa-check"></i><b>4.3.1</b> Agregar una columna con <code>mutate</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="tidyverse.html"><a href="tidyverse.html#subconjunto-con-filter"><i class="fa fa-check"></i><b>4.3.2</b> Subconjunto con <code>filter</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="tidyverse.html"><a href="tidyverse.html#seleccionar-columnas-con-select"><i class="fa fa-check"></i><b>4.3.3</b> Seleccionar columnas con <code>select</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-9"><i class="fa fa-check"></i><b>4.4</b> Ejercicios</a></li>
<li class="chapter" data-level="4.5" data-path="tidyverse.html"><a href="tidyverse.html#el-tubo"><i class="fa fa-check"></i><b>4.5</b> El tubo: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.6" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-10"><i class="fa fa-check"></i><b>4.6</b> Ejercicios</a></li>
<li class="chapter" data-level="4.7" data-path="tidyverse.html"><a href="tidyverse.html#resumiendo-datos"><i class="fa fa-check"></i><b>4.7</b> Resumiendo datos</a><ul>
<li class="chapter" data-level="4.7.1" data-path="tidyverse.html"><a href="tidyverse.html#summarize"><i class="fa fa-check"></i><b>4.7.1</b> <code>summarize</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="tidyverse.html"><a href="tidyverse.html#pull"><i class="fa fa-check"></i><b>4.7.2</b> <code>pull</code></a></li>
<li class="chapter" data-level="4.7.3" data-path="tidyverse.html"><a href="tidyverse.html#group-by"><i class="fa fa-check"></i><b>4.7.3</b> Agrupe y luego resuma con <code>group_by</code></a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="tidyverse.html"><a href="tidyverse.html#ordenar-marcos-de-datos"><i class="fa fa-check"></i><b>4.8</b> Ordenar marcos de datos</a><ul>
<li class="chapter" data-level="4.8.1" data-path="tidyverse.html"><a href="tidyverse.html#clasificacion-anidada"><i class="fa fa-check"></i><b>4.8.1</b> Clasificación anidada</a></li>
<li class="chapter" data-level="4.8.2" data-path="tidyverse.html"><a href="tidyverse.html#la-parte-superior-n"><i class="fa fa-check"></i><b>4.8.2</b> La parte superior <span class="math inline">\(n\)</span></a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-11"><i class="fa fa-check"></i><b>4.9</b> Ejercicios</a></li>
<li class="chapter" data-level="4.10" data-path="tidyverse.html"><a href="tidyverse.html#tibbles"><i class="fa fa-check"></i><b>4.10</b> Tibbles</a><ul>
<li class="chapter" data-level="4.10.1" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-se-muestran-mejor"><i class="fa fa-check"></i><b>4.10.1</b> Tibbles se muestran mejor</a></li>
<li class="chapter" data-level="4.10.2" data-path="tidyverse.html"><a href="tidyverse.html#los-subconjuntos-de-tibbles-son-tibbles"><i class="fa fa-check"></i><b>4.10.2</b> Los subconjuntos de tibbles son tibbles</a></li>
<li class="chapter" data-level="4.10.3" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-puede-tener-entradas-complejas"><i class="fa fa-check"></i><b>4.10.3</b> Tibbles puede tener entradas complejas</a></li>
<li class="chapter" data-level="4.10.4" data-path="tidyverse.html"><a href="tidyverse.html#tibbles-se-pueden-agrupar"><i class="fa fa-check"></i><b>4.10.4</b> Tibbles se pueden agrupar</a></li>
<li class="chapter" data-level="4.10.5" data-path="tidyverse.html"><a href="tidyverse.html#crear-un-tibble-usando-tibble-en-lugar-de-data.frame"><i class="fa fa-check"></i><b>4.10.5</b> Crear un tibble usando <code>tibble</code> en lugar de <code>data.frame</code></a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="tidyverse.html"><a href="tidyverse.html#el-operador-punto"><i class="fa fa-check"></i><b>4.11</b> El operador punto</a></li>
<li class="chapter" data-level="4.12" data-path="tidyverse.html"><a href="tidyverse.html#do"><i class="fa fa-check"></i><b>4.12</b> <code>do</code></a></li>
<li class="chapter" data-level="4.13" data-path="tidyverse.html"><a href="tidyverse.html#el-paquete-purrr"><i class="fa fa-check"></i><b>4.13</b> El paquete <strong>purrr</strong></a></li>
<li class="chapter" data-level="4.14" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-condicionales"><i class="fa fa-check"></i><b>4.14</b> Tidyverse condicionales</a><ul>
<li class="chapter" data-level="4.14.1" data-path="tidyverse.html"><a href="tidyverse.html#case_when"><i class="fa fa-check"></i><b>4.14.1</b> <code>case_when</code></a></li>
<li class="chapter" data-level="4.14.2" data-path="tidyverse.html"><a href="tidyverse.html#between"><i class="fa fa-check"></i><b>4.14.2</b> <code>between</code></a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="tidyverse.html"><a href="tidyverse.html#ejercicios-12"><i class="fa fa-check"></i><b>4.15</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>5</b> Importando datos</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-data.html"><a href="importing-data.html#rutas-y-el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1</b> Rutas y el directorio de trabajo</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-data.html"><a href="importing-data.html#el-sistema-de-archivos"><i class="fa fa-check"></i><b>5.1.1</b> El sistema de archivos</a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-data.html"><a href="importing-data.html#caminos-relativos-y-completos"><i class="fa fa-check"></i><b>5.1.2</b> Caminos relativos y completos</a></li>
<li class="chapter" data-level="5.1.3" data-path="importing-data.html"><a href="importing-data.html#el-directorio-de-trabajo"><i class="fa fa-check"></i><b>5.1.3</b> El directorio de trabajo</a></li>
<li class="chapter" data-level="5.1.4" data-path="importing-data.html"><a href="importing-data.html#generando-nombres-de-ruta"><i class="fa fa-check"></i><b>5.1.4</b> Generando nombres de ruta</a></li>
<li class="chapter" data-level="5.1.5" data-path="importing-data.html"><a href="importing-data.html#copiando-archivos-usando-rutas"><i class="fa fa-check"></i><b>5.1.5</b> Copiando archivos usando rutas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-data.html"><a href="importing-data.html#los-paquetes-readr-y-readxl"><i class="fa fa-check"></i><b>5.2</b> Los paquetes readr y readxl</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-data.html"><a href="importing-data.html#lector"><i class="fa fa-check"></i><b>5.2.1</b> lector</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-data.html"><a href="importing-data.html#readxl"><i class="fa fa-check"></i><b>5.2.2</b> readxl</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-data.html"><a href="importing-data.html#ejercicios-13"><i class="fa fa-check"></i><b>5.3</b> Ejercicios</a></li>
<li class="chapter" data-level="5.4" data-path="importing-data.html"><a href="importing-data.html#descargando-archivos"><i class="fa fa-check"></i><b>5.4</b> Descargando archivos</a></li>
<li class="chapter" data-level="5.5" data-path="importing-data.html"><a href="importing-data.html#funciones-de-importacion-de-base-r"><i class="fa fa-check"></i><b>5.5</b> Funciones de importación de base R</a><ul>
<li class="chapter" data-level="5.5.1" data-path="importing-data.html"><a href="importing-data.html#scan"><i class="fa fa-check"></i><b>5.5.1</b> <code>scan</code></a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="importing-data.html"><a href="importing-data.html#texto-versus-archivos-binarios"><i class="fa fa-check"></i><b>5.6</b> Texto versus archivos binarios</a></li>
<li class="chapter" data-level="5.7" data-path="importing-data.html"><a href="importing-data.html#unicode-versus-ascii"><i class="fa fa-check"></i><b>5.7</b> Unicode versus ASCII</a></li>
<li class="chapter" data-level="5.8" data-path="importing-data.html"><a href="importing-data.html#organizando-datos-con-hojas-de-calculo"><i class="fa fa-check"></i><b>5.8</b> Organizando datos con hojas de cálculo</a></li>
<li class="chapter" data-level="5.9" data-path="importing-data.html"><a href="importing-data.html#ejercicios-14"><i class="fa fa-check"></i><b>5.9</b> Ejercicios</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a la Ciencia de Datos</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="conceptos-basicos-de-programacion" class="section level1">
<h1><span class="header-section-number">Capítulo 3</span> Conceptos básicos de programación</h1>
<p>Enseñamos R porque facilita enormemente el análisis de datos, el tema principal de este libro. Al codificar en R, podemos realizar eficientemente análisis de datos exploratorios, construir canales de análisis de datos y preparar la visualización de datos para comunicar los resultados. Sin embargo, R no es solo un entorno de análisis de datos sino un lenguaje de programación. Los programadores avanzados de R pueden desarrollar paquetes complejos e incluso mejorar la propia R, pero no cubrimos la programación avanzada en este libro. No obstante, en esta sección, presentamos tres conceptos clave de programación: expresiones condicionales, bucles for y funciones. Estos no son solo bloques de construcción clave para la programación avanzada, sino que a veces son útiles durante el análisis de datos. También notamos que hay varias funciones que se usan ampliamente para programar en R pero que no cubriremos en este libro. Éstos incluyen <code>split</code>, <code>cut</code>, <code>do.call</code> y <code>Reduce</code>, así como el paquete <strong>data.table</strong>. Vale la pena aprenderlos si planea convertirse en un programador experto de R.</p>
<div id="conditionals" class="section level2">
<h2><span class="header-section-number">3.1</span> Expresiones condicionales</h2>
<p>Las expresiones condicionales son una de las características básicas de la programación. Se utilizan para lo que se llama <em>flow control</em>. La expresión condicional más común es la declaración if-else. En R, podemos realizar bastante análisis de datos sin condicionales. Sin embargo, aparecen ocasionalmente, y los necesitará una vez que comience a escribir sus propias funciones y paquetes.</p>
<p>Aquí hay un ejemplo muy simple que muestra la estructura general de una instrucción if-else. La idea básica es imprimir el recíproco de <code>a</code> a no ser que <code>a</code> es 0:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb130-2" data-line-number="2"></a>
<a class="sourceLine" id="cb130-3" data-line-number="3"><span class="cf">if</span>(a<span class="op">!=</span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb130-4" data-line-number="4"><span class="kw">print</span>(<span class="dv">1</span><span class="op">/</span>a)</a>
<a class="sourceLine" id="cb130-5" data-line-number="5">} <span class="cf">else</span>{</a>
<a class="sourceLine" id="cb130-6" data-line-number="6"><span class="kw">print</span>(<span class="st">&quot;No reciprocal for 0.&quot;</span>)</a>
<a class="sourceLine" id="cb130-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb130-8" data-line-number="8"><span class="co">#&gt; [1] &quot;No reciprocal for 0.&quot;</span></a></code></pre></div>
<p>Veamos un ejemplo más usando el marco de datos de asesinatos de Estados Unidos:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" data-line-number="1"><span class="kw">library</span>(dslabs)</a>
<a class="sourceLine" id="cb131-2" data-line-number="2"><span class="kw">data</span>(murders)</a>
<a class="sourceLine" id="cb131-3" data-line-number="3">murder_rate &lt;-<span class="st"> </span>murders<span class="op">$</span>total<span class="op">/</span><span class="st"> </span>murders<span class="op">$</span>population<span class="op">*</span><span class="dv">100000</span></a></code></pre></div>
<p>Aquí hay un ejemplo muy simple que nos dice qué estados, si los hay, tienen una tasa de homicidios inferior a 0.5 por 100,000. los <code>if</code> declaración nos protege del caso en el que ningún estado satisface la condición.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1">ind &lt;-<span class="st"> </span><span class="kw">which.min</span>(murder_rate)</a>
<a class="sourceLine" id="cb132-2" data-line-number="2"></a>
<a class="sourceLine" id="cb132-3" data-line-number="3"><span class="cf">if</span>(murder_rate[ind] <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.5</span>){</a>
<a class="sourceLine" id="cb132-4" data-line-number="4"><span class="kw">print</span>(murders<span class="op">$</span>state[ind])</a>
<a class="sourceLine" id="cb132-5" data-line-number="5">} <span class="cf">else</span>{</a>
<a class="sourceLine" id="cb132-6" data-line-number="6"><span class="kw">print</span>(<span class="st">&quot;No state has murder rate that low&quot;</span>)</a>
<a class="sourceLine" id="cb132-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb132-8" data-line-number="8"><span class="co">#&gt; [1] &quot;Vermont&quot;</span></a></code></pre></div>
<p>Si lo intentamos nuevamente con una tasa de 0.25, obtenemos una respuesta diferente:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" data-line-number="1"><span class="cf">if</span>(murder_rate[ind] <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.25</span>){</a>
<a class="sourceLine" id="cb133-2" data-line-number="2"><span class="kw">print</span>(murders<span class="op">$</span>state[ind])</a>
<a class="sourceLine" id="cb133-3" data-line-number="3">} <span class="cf">else</span>{</a>
<a class="sourceLine" id="cb133-4" data-line-number="4"><span class="kw">print</span>(<span class="st">&quot;No state has a murder rate that low.&quot;</span>)</a>
<a class="sourceLine" id="cb133-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb133-6" data-line-number="6"><span class="co">#&gt; [1] &quot;No state has a murder rate that low.&quot;</span></a></code></pre></div>
<p>Una función relacionada que es muy útil es <code>ifelse</code>. Esta función toma tres argumentos: una lógica y dos posibles respuestas. Si lo lógico es <code>TRUE</code>, se devuelve el valor en el segundo argumento y si <code>FALSE</code>, se devuelve el valor en el tercer argumento. Aquí hay un ejemplo:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb134-2" data-line-number="2"><span class="kw">ifelse</span>(a <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">1</span><span class="op">/</span>a, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb134-3" data-line-number="3"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>La función es particularmente útil porque funciona en vectores. Examina cada entrada del vector lógico y devuelve elementos del vector proporcionado en el segundo argumento, si la entrada es <code>TRUE</code>, o elementos del vector proporcionados en el tercer argumento, si la entrada es <code>FALSE</code>.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">-4</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb135-2" data-line-number="2">result &lt;-<span class="st"> </span><span class="kw">ifelse</span>(a <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, <span class="dv">1</span><span class="op">/</span>a, <span class="ot">NA</span>)</a></code></pre></div>
Esta tabla nos ayuda a ver qué sucedió:
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
a
</th>
<th style="text-align:left;">
is_a_positive
</th>
<th style="text-align:right;">
answer1
</th>
<th style="text-align:left;">
answer2
</th>
<th style="text-align:right;">
result
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
Inf
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.5
</td>
</tr>
<tr>
<td style="text-align:right;">
-4
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
-0.25
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:right;">
0.2
</td>
</tr>
</tbody>
</table>
<p>Aquí hay un ejemplo de cómo esta función se puede usar fácilmente para reemplazar todos los valores faltantes en un vector con ceros:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1"><span class="kw">data</span>(na_example)</a>
<a class="sourceLine" id="cb136-2" data-line-number="2">no_nas &lt;-<span class="st"> </span><span class="kw">ifelse</span>(<span class="kw">is.na</span>(na_example), <span class="dv">0</span>, na_example)</a>
<a class="sourceLine" id="cb136-3" data-line-number="3"><span class="kw">sum</span>(<span class="kw">is.na</span>(no_nas))</a>
<a class="sourceLine" id="cb136-4" data-line-number="4"><span class="co">#&gt; [1] 0</span></a></code></pre></div>
<p>Otras dos funciones útiles son <code>any</code> y <code>all</code>. Los <code>any</code> la función toma un vector de lógicas y devuelve <code>TRUE</code> si alguna de las entradas es <code>TRUE</code>. Los <code>all</code> la función toma un vector de lógicas y devuelve <code>TRUE</code> si todas las entradas son <code>TRUE</code>. Aquí hay un ejemplo:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1">z &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb137-2" data-line-number="2"><span class="kw">any</span>(z)</a>
<a class="sourceLine" id="cb137-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb137-4" data-line-number="4"><span class="kw">all</span>(z)</a>
<a class="sourceLine" id="cb137-5" data-line-number="5"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
</div>
<div id="definiendo-funciones" class="section level2">
<h2><span class="header-section-number">3.2</span> Definiendo funciones</h2>
<p>A medida que adquieras más experiencia, necesitarás realizar las mismas operaciones una y otra vez. Un ejemplo simple es el cálculo de promedios. Podemos calcular el promedio de un vector <code>x</code> utilizando la <code>sum</code> y <code>length</code> funciones: <code>sum(x)/length(x)</code>. Debido a que hacemos esto repetidamente, es mucho más eficiente escribir una función que realice esta operación. Esta operación particular es tan común que alguien ya escribió el <code>mean</code> función y se incluye en la base R. Sin embargo, se encontrará con situaciones en las que la función aún no existe, por lo que R le permite escribir la suya. Una versión simple de una función que calcula el promedio se puede definir así:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1">avg &lt;-<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb138-2" data-line-number="2">s &lt;-<span class="st"> </span><span class="kw">sum</span>(x)</a>
<a class="sourceLine" id="cb138-3" data-line-number="3">n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb138-4" data-line-number="4">s<span class="op">/</span>n</a>
<a class="sourceLine" id="cb138-5" data-line-number="5">}</a></code></pre></div>
<p>Ahora <code>avg</code> es una función que calcula la media:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">100</span></a>
<a class="sourceLine" id="cb139-2" data-line-number="2"><span class="kw">identical</span>(<span class="kw">mean</span>(x), <span class="kw">avg</span>(x))</a>
<a class="sourceLine" id="cb139-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<p>Observe que las variables definidas dentro de una función no se guardan en el espacio de trabajo. Entonces mientras usamos <code>s</code> y <code>n</code> cuando llamamos <code>avg</code>, los valores se crean y cambian solo durante la llamada. Aquí hay un ejemplo ilustrativo:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1">s &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb140-2" data-line-number="2"><span class="kw">avg</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb140-3" data-line-number="3"><span class="co">#&gt; [1] 5.5</span></a>
<a class="sourceLine" id="cb140-4" data-line-number="4">s</a>
<a class="sourceLine" id="cb140-5" data-line-number="5"><span class="co">#&gt; [1] 3</span></a></code></pre></div>
<p>Tenga en cuenta cómo <code>s</code> es todavía 3 después de que llamemos <code>avg</code>.</p>
<p>En general, las funciones son objetos, por lo que las asignamos a nombres de variables con <code>&lt;-</code>. La función <code>function</code> le dice a R que está a punto de definir una función. La forma general de una definición de función se ve así:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1">my_function &lt;-<span class="st"> </span><span class="cf">function</span>(VARIABLE_NAME){</a>
<a class="sourceLine" id="cb141-2" data-line-number="2">perform operations on VARIABLE_NAME and calculate VALUE</a>
<a class="sourceLine" id="cb141-3" data-line-number="3">VALUE</a>
<a class="sourceLine" id="cb141-4" data-line-number="4">}</a></code></pre></div>
<p>Las funciones que defina pueden tener múltiples argumentos, así como valores predeterminados. Por ejemplo, podemos definir una función que calcule el promedio aritmético o geométrico dependiendo de una variable definida por el usuario como esta:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1">avg &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">arithmetic =</span> <span class="ot">TRUE</span>){</a>
<a class="sourceLine" id="cb142-2" data-line-number="2">n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb142-3" data-line-number="3"><span class="kw">ifelse</span>(arithmetic, <span class="kw">sum</span>(x)<span class="op">/</span>n, <span class="kw">prod</span>(x)<span class="op">^</span>(<span class="dv">1</span><span class="op">/</span>n))</a>
<a class="sourceLine" id="cb142-4" data-line-number="4">}</a></code></pre></div>
<p>Aprenderemos más sobre cómo crear funciones a través de la experiencia a medida que nos enfrentamos a tareas más complejas.</p>
</div>
<div id="espacios-de-nombres" class="section level2">
<h2><span class="header-section-number">3.3</span> Espacios de nombres</h2>
<p>Una vez que comience a convertirse en un usuario experto de R, es probable que necesite cargar varios paquetes de complementos para algunos de sus análisis. Una vez que comience a hacer esto, es probable que dos paquetes usen el mismo nombre para dos funciones diferentes. Y a menudo estas funciones hacen cosas completamente diferentes. De hecho, ya te has encontrado con esto porque tanto __dplyr__como el paquete R__base__stats__ definen un <code>filter</code> función. Hay otros cinco ejemplos en <strong>dplyr</strong>. Sabemos esto porque cuando cargamos <strong>dplyr</strong> por primera vez, vemos el siguiente mensaje:</p>
<pre><code>The following objects are masked from ‘package:stats’:

filter, lag

The following objects are masked from ‘package:base’:

intersect, setdiff, setequal, union</code></pre>
<p>Entonces, ¿qué hace R cuando escribimos <code>filter</code>? ¿Utiliza la función __dplyr__o la función<strong>stats</strong>? De nuestro trabajo anterior sabemos que usa el <strong>dplyr</strong> uno. Pero, ¿qué pasa si queremos usar la versión <strong>stats</strong>?</p>
<p>Estas funciones viven en diferentes espacios de nombres. R seguirá un cierto orden cuando busque una función en estos espacios de nombres. Puede ver el pedido escribiendo:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" data-line-number="1"><span class="kw">search</span>()</a></code></pre></div>
<p>La primera entrada en esta lista es el entorno global que incluye todos los objetos que defina.</p>
<p>Entonces, ¿qué pasa si queremos usar las <strong>stats</strong> <code>filter</code> en lugar del filtro __dplyr__pero<strong>dplyr</strong> aparece primero en la lista de búsqueda? Puede forzar el uso de un espacio de nombre específico utilizando dos puntos dobles ( <code>::</code>) me gusta esto:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1">stats<span class="op">::</span>filter</a></code></pre></div>
<p>Si queremos estar absolutamente seguros de que usamos el <strong>dplyr</strong> <code>filter</code> nosotros podemos usar</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1">dplyr<span class="op">::</span>filter</a></code></pre></div>
<p>También tenga en cuenta que si queremos usar una función en un paquete sin cargar el paquete completo, también podemos usar los dos puntos dobles.</p>
<p>Para más información sobre este tema más avanzado, recomendamos el libro de paquetes R<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a>.</p>
</div>
<div id="for-loops" class="section level2">
<h2><span class="header-section-number">3.4</span> For-loops</h2>
<p>La fórmula para la suma de la serie. <span class="math inline">\(1+2+\dots+n\)</span> es <span class="math inline">\(n(n+1)/2\)</span>. ¿Qué pasaría si no estuviéramos seguros de que esa era la función correcta? ¿Cómo podríamos verificar? Usando lo que aprendimos sobre las funciones, podemos crear una que calcule <span class="math inline">\(S_n\)</span>:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1">compute_s_n &lt;-<span class="st"> </span><span class="cf">function</span>(n){</a>
<a class="sourceLine" id="cb147-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span>n</a>
<a class="sourceLine" id="cb147-3" data-line-number="3"><span class="kw">sum</span>(x)</a>
<a class="sourceLine" id="cb147-4" data-line-number="4">}</a></code></pre></div>
<p>¿Cómo podemos calcular <span class="math inline">\(S_n\)</span> para varios valores de <span class="math inline">\(n\)</span> decir <span class="math inline">\(n=1,\dots,25\)</span>? ¿Escribimos 25 líneas de código <code>compute_s_n</code>? No, para eso están los bucles for en la programación. En este caso, estamos realizando exactamente la misma tarea una y otra vez, y lo único que está cambiando es el valor de <span class="math inline">\(n\)</span>. Los bucles for nos permiten definir el rango que toma nuestra variable (en nuestro ejemplo <span class="math inline">\(n=1,\dots,10\)</span>), luego cambie el valor y evalúe la expresión a medida que realiza un bucle.</p>
<p>Quizás el ejemplo más simple de un bucle for es este código inútil:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" data-line-number="1"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>){</a>
<a class="sourceLine" id="cb148-2" data-line-number="2"><span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb148-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb148-4" data-line-number="4"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb148-5" data-line-number="5"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb148-6" data-line-number="6"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb148-7" data-line-number="7"><span class="co">#&gt; [1] 4</span></a>
<a class="sourceLine" id="cb148-8" data-line-number="8"><span class="co">#&gt; [1] 5</span></a></code></pre></div>
<p>Aquí está el ciclo for que escribiríamos para nuestro <span class="math inline">\(S_n\)</span> ejemplo:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1">m &lt;-<span class="st"> </span><span class="dv">25</span></a>
<a class="sourceLine" id="cb149-2" data-line-number="2">s_n &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="dt">length =</span> m) <span class="co"># create an empty vector</span></a>
<a class="sourceLine" id="cb149-3" data-line-number="3"><span class="cf">for</span>(n <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>m){</a>
<a class="sourceLine" id="cb149-4" data-line-number="4">s_n[n] &lt;-<span class="st"> </span><span class="kw">compute_s_n</span>(n)</a>
<a class="sourceLine" id="cb149-5" data-line-number="5">}</a></code></pre></div>
<p>En cada iteración <span class="math inline">\(n=1\)</span>, <span class="math inline">\(n=2\)</span>, etc …, calculamos <span class="math inline">\(S_n\)</span> y guardarlo en el <span class="math inline">\(n\)</span> th entrada de <code>s_n</code>.</p>
<p>Ahora podemos crear un diagrama para buscar un patrón:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" data-line-number="1">n &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span>m</a>
<a class="sourceLine" id="cb150-2" data-line-number="2"><span class="kw">plot</span>(n, s_n)</a></code></pre></div>
<p><img src="libro_files/figure-html/sum-of-consecutive-squares-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>Si notó que parece ser un elemento cuadrático, está en el camino correcto porque la fórmula es <span class="math inline">\(n(n+1)/2\)</span>.
<!--
que podemos confirmar con una tabla:


```r
head(data.frame(s_n = s_n, formula = n*(n+1)/2))
#>   s_n formula
#> 1   1       1
#> 2   3       3
#> 3   6       6
#> 4  10      10
#> 5  15      15
#> 6  21      21
```

También podemos superponer los dos resultados usando la función `lines` para dibujar una línea sobre los puntos trazados previamente:


```r
plot(n, s_n)
lines(n, n*(n+1)/2)
```

<img src="libro_files/figure-html/s_n-v-n-1.png" width="70%" style="display: block; margin: auto;" />

--></p>
</div>
<div id="vectorization" class="section level2">
<h2><span class="header-section-number">3.5</span> Vectorización y funcionales</h2>
<p>Aunque los bucles for son un concepto importante para entender, en R rara vez los usamos. A medida que aprenda más R, se dará cuenta de que se prefiere la <em>vectorización</em> sobre los bucles for ya que da como resultado un código más corto y claro. Ya vimos ejemplos en la sección Aritmética de vectores. Una función <em>vectorizada</em> es una función que aplicará la misma operación en cada uno de los vectores.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb151-2" data-line-number="2"><span class="kw">sqrt</span>(x)</a>
<a class="sourceLine" id="cb151-3" data-line-number="3"><span class="co">#&gt;  [1] 1.00 1.41 1.73 2.00 2.24 2.45 2.65 2.83 3.00 3.16</span></a>
<a class="sourceLine" id="cb151-4" data-line-number="4">y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb151-5" data-line-number="5">x<span class="op">*</span>y</a>
<a class="sourceLine" id="cb151-6" data-line-number="6"><span class="co">#&gt;  [1]   1   4   9  16  25  36  49  64  81 100</span></a></code></pre></div>
<p>Para hacer este cálculo, no hay necesidad de for-loops. Sin embargo, no todas las funciones funcionan de esta manera. Por ejemplo, la función que acabamos de escribir, <code>compute_s_n</code>, no funciona por elementos, ya que espera un escalar. Este fragmento de código no ejecuta la función en cada entrada de <code>n</code>:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1">n &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">25</span></a>
<a class="sourceLine" id="cb152-2" data-line-number="2"><span class="kw">compute_s_n</span>(n)</a></code></pre></div>
<p><em>Funcionales</em> son funciones que nos ayudan a aplicar la misma función a cada entrada en un vector, matriz, marco de datos o lista. Aquí cubrimos el funcional que opera en vectores numéricos, lógicos y de caracteres: <code>sapply</code>.</p>
<p>La función <code>sapply</code> nos permite realizar operaciones basadas en elementos en cualquier función. Así es como funciona:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb153-2" data-line-number="2"><span class="kw">sapply</span>(x, sqrt)</a>
<a class="sourceLine" id="cb153-3" data-line-number="3"><span class="co">#&gt;  [1] 1.00 1.41 1.73 2.00 2.24 2.45 2.65 2.83 3.00 3.16</span></a></code></pre></div>
<p>Cada elemento de <code>x</code> se pasa a la función <code>sqrt</code> y se devuelve el resultado. Estos resultados están concatenados. En este caso, el resultado es un vector de la misma longitud que el original <code>x</code>. Esto implica que el ciclo for anterior puede escribirse de la siguiente manera:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1">n &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">25</span></a>
<a class="sourceLine" id="cb154-2" data-line-number="2">s_n &lt;-<span class="st"> </span><span class="kw">sapply</span>(n, compute_s_n)</a></code></pre></div>
<p>Otros funcionales son <code>apply</code>, <code>lapply</code>, <code>tapply</code>, <code>mapply</code>, <code>vapply</code> y <code>replicate</code>. Usamos principalmente <code>sapply</code>, <code>apply</code> y <code>replicate</code> en este libro, pero recomendamos familiarizarse con los demás, ya que pueden ser muy útiles.</p>
</div>
<div id="ejercicios-7" class="section level2">
<h2><span class="header-section-number">3.6</span> Ejercicios</h2>
<p>1. ¿Qué devolverá esta expresión condicional?</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="op">-</span><span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb155-2" data-line-number="2"></a>
<a class="sourceLine" id="cb155-3" data-line-number="3"><span class="cf">if</span>(<span class="kw">all</span>(x<span class="op">&gt;</span><span class="dv">0</span>)){</a>
<a class="sourceLine" id="cb155-4" data-line-number="4"><span class="kw">print</span>(<span class="st">&quot;All Postives&quot;</span>)</a>
<a class="sourceLine" id="cb155-5" data-line-number="5">} <span class="cf">else</span>{</a>
<a class="sourceLine" id="cb155-6" data-line-number="6"><span class="kw">print</span>(<span class="st">&quot;Not all positives&quot;</span>)</a>
<a class="sourceLine" id="cb155-7" data-line-number="7">}</a></code></pre></div>
<p>2. ¿Cuál de las siguientes expresiones es siempre <code>FALSE</code> cuando al menos una entrada de un vector lógico <code>x</code> ¿es verdad?</p>
<ol style="list-style-type: lower-alpha">
<li><code>all(x)</code>
si. <code>any(x)</code></li>
<li><code>any(!x)</code>
re. <code>all(!x)</code></li>
</ol>
<p>3. La función <code>nchar</code> le dice cuántos caracteres tiene un vector de caracteres. Escriba una línea de código que se asigne al objeto. <code>new_names</code> la abreviatura del estado cuando el nombre del estado tiene más de 8 caracteres.</p>
<p>4. Crear una función <code>sum_n</code> que para cualquier valor dado, digamos <span class="math inline">\(n\)</span>, calcula la suma de los enteros de 1 a n (inclusive). Use la función para determinar la suma de los enteros de 1 a 5,000.</p>
<p>5. Crear una función <code>altman_plot</code> eso toma dos argumentos, <code>x</code> y <code>y</code>, y traza la diferencia contra la suma.</p>
<p>6. Después de ejecutar el siguiente código, ¿cuál es el valor de <code>x</code>?</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb156-2" data-line-number="2">my_func &lt;-<span class="st"> </span><span class="cf">function</span>(y){</a>
<a class="sourceLine" id="cb156-3" data-line-number="3">x &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb156-4" data-line-number="4">y<span class="op">+</span><span class="dv">5</span></a>
<a class="sourceLine" id="cb156-5" data-line-number="5">}</a></code></pre></div>
<p>7. Escribir una función <code>compute_s_n</code> que para cualquier <span class="math inline">\(n\)</span> calcula la suma <span class="math inline">\(S_n = 1^2 + 2^2 + 3^2 + \dots n^2\)</span>. Informe el valor de la suma cuando <span class="math inline">\(n=10\)</span>.</p>
<p>8. Definir un vector numérico vacío. <code>s_n</code> de tamaño 25 usando <code>s_n &lt;- vector(&quot;numeric&quot;, 25)</code> y almacenar en los resultados de <span class="math inline">\(S_1, S_2, \dots S_{25}\)</span> usando un bucle for.</p>
<p>9. Repita el ejercicio 8, pero esta vez use <code>sapply</code>.</p>
<p>10. Repita el ejercicio 8, pero esta vez use <code>map_dbl</code>.</p>
<p>11. Trama <span class="math inline">\(S_n\)</span> versus <span class="math inline">\(n\)</span>. Use puntos definidos por <span class="math inline">\(n=1,\dots,25\)</span>.</p>
<p>12. Confirme que la fórmula para esta suma es <span class="math inline">\(S_n= n(n+1)(2n+1)/6\)</span>.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="14">
<li id="fn14"><p><a href="http://r-pkgs.had.co.nz/namespace.html" class="uri">http://r-pkgs.had.co.nz/namespace.html</a><a href="conceptos-basicos-de-programacion.html#fnref14" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-basics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tidyverse.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rafalab/dslibro/edit/master/R/programming-basics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
